# Repository Guidelines

## Architecture Overview
The admin UI is an Angular 18 single-page app backed by Firebase. Client modules read and write Firestore documents, while Cloud Functions in `functions/index.js` orchestrate Google Compute Engine operations, log listeners, and scheduled tasks. Authentication flows rely on Firebase Auth via `ngx-auth-firebaseui`.

## Project Structure & Module Organization
Primary client code lives under `src/`. Feature areas such as `customers`, `vms`, and `settings` live in `src/app/<feature>` with collocated components, pipes, and styles. Shared media stays in `src/assets`, Angular environment files in `src/environments`, and Firebase backend code under `functions/` with its own `package.json`. Keep unit specs adjacent to their source as `*.spec.ts`.

## Build, Test, and Development Commands
Install dependencies with `npm install`. Use `npm start` (`ng serve`) for a live dev server on `http://localhost:4200/`. Production bundles are generated by `npm run build` into `dist/`, and `npm run watch` keeps a development build rebuilding. Run `npm test` for Karma/Jasmine suites; append `-- --code-coverage` to emit coverage reports in `coverage/`.

## Coding Style & Naming Conventions
Follow Angular style defaults: two-space indentation, one class per file, and kebab-case filenames (`customer-list.component.ts`). Components, services, and pipes use PascalCase suffixes (`CustomersComponent`, `UsageService`). Prefer Angular CLI generators (`ng generate component feature/name`) to maintain structure, and keep shared utilities in feature folders unless they are reused app-wide.

## Testing Guidelines
Scope tests tightly and mirror file paths (for example, `vms/vm-card.component.ts` ↔ `vm-card.component.spec.ts`). Use Angular `TestBed`, `fakeAsync`, and observable matchers already present in the suite. Treat `npm test -- --watch=false` as pre-PR validation, and expand coverage whenever fixing bugs or adding server interactions.

## Commit & Pull Request Guidelines
Commit subjects in `git log` are short and imperative (e.g., “credit calculation”). Keep each commit focused, reference issue IDs when relevant, and describe configuration changes explicitly. Pull requests should outline the change set, list verification steps (`npm test`, manual QA), attach UI screenshots when applicable, and mention updates to `firebase.json` or `src/environments/*`.
