webpackJsonp([5],{"1oE0":function(t,s){},"5Fcn":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("mvHQ"),r=e.n(a),i=e("Dd8w"),n=e.n(i),o=e("vm5C"),l=e("NYxO"),c=e("Iq8t"),u={name:"UsersGrid",components:{AddUser:o.a},data:function(){return{msg:"Welcome to Your Vue.js App",userFilterKey:"all",currentSort:"name",currentSortDir:"asc",keyword:""}},created:function(){this.getAllUsers()},methods:n()({},Object(l.b)("users",{getAllUsers:"getAll",deleteUser:"delete"}),{resendInvitation:function(t){var s=this;Object(c.c)().post("api/createBulk",r()({accounts:t})).then(function(t){s.$swal({icon:"success",title:"Intivation",text:t.message})})},applyFilter:function(){""!=this.keyword&&(this.userFilterKey="apply")},reloadListView:function(){this.getAllUsers()},sort:function(t){this.userFilterKey="apply",t===this.currentSort&&(this.currentSortDir="asc"===this.currentSortDir?"desc":"asc"),this.currentSort=t},clearInput:function(){this.keyword="",this.userFilterKey="all",this.sort="asc"},filterByNameOrEmail:function(t){var s=t.name.toLowerCase(),e=t.email.toLowerCase();if(""!=this.keyword){var a=this.keyword.toLowerCase();return s.includes(a)||e.includes(a)}return!0},orderBy:function(t,s){var e=1;return"desc"===this.currentSortDir&&(e=-1),t[this.currentSort]<s[this.currentSort]?-1*e:t[this.currentSort]>s[this.currentSort]?1*e:0}}),computed:n()({},Object(l.c)({users:function(t){return t.users.all}}),{filteredRows:function(){return this[this.userFilterKey]},all:function(){return this.users.items},apply:function(){return this.users.items.filter(this.filterByNameOrEmail).sort(this.orderBy)}})},d={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"users-page",attrs:{id:"page-wrapper"}},[a("div",{staticClass:"container-fluid"},[t._m(0),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-10 sort-left"},[a("span",[t._v("Sort by: ")]),t._v("  \r\n                "),a("router-link",{staticClass:"btn active",attrs:{to:"/admin/users/grid"}},[t._v("User")]),t._v(" "),a("router-link",{staticClass:"btn",attrs:{to:"/admin/group/grid"}},[t._v("Group")]),t._v(" "),a("div",{staticClass:"content-search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"form-control search-input",attrs:{type:"text",name:"keyword",placeholder:"Search users..."},domProps:{value:t.keyword},on:{keyup:function(s){return t.applyFilter("")},input:function(s){s.target.composing||(t.keyword=s.target.value)}}}),t._v(" "),a("button",{staticClass:"btn btn-search",on:{click:function(s){return t.applyFilter("")}}},[a("i",{staticClass:"fa fa-search"})])])],1),t._v(" "),t._m(1),t._v(" "),a("add-user",{on:{reloadList:t.reloadListView}})],1),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-5 change-view"},[a("router-link",{staticClass:"btn btn-changeview active",attrs:{to:"/admin/users/grid"}},[a("img",{attrs:{src:e("9Uiy"),alt:"userManIcons"}})]),t._v(" "),a("router-link",{staticClass:"btn btn-changeview ",attrs:{to:"/admin/users"}},[a("img",{attrs:{src:e("Rgfc"),alt:"userManIcons"}})]),t._v(" "),t.users.items?a("span",{staticClass:"user-count"},[t._v("All users ("+t._s(t.users.items.length)+")")]):t._e()],1)]),t._v(" "),t.users.items?a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-body"},[a("div",{staticClass:"row"},t._l(t.filteredRows,function(s){return a("div",{staticClass:"col-lg-4 card-mb "},[a("div",{staticClass:"row item-profile"},[a("div",{staticClass:"col-xs-3 text-center card-left"},[a("img",{staticClass:"img-circle",attrs:{src:s.avatarUrl}}),t._v(" "),a("h4",[t._v(t._s(s.roleName))])]),t._v(" "),a("div",{staticClass:"col-xs-9 card-right"},[a("button",{staticClass:"btn-delete float-right",on:{click:function(e){return t.deleteUser(s.isPending?s.email:s.id)}}},[a("i",{staticClass:"far fa-trash-alt"})]),t._v(" "),a("h4",[t._v(t._s(s.name))]),t._v(" "),a("p",[t._v(t._s(s.email))]),t._v(" "),a("span",[t._v(t._s(s.group))]),t._v(" "),s.isPending?a("p",{staticClass:"text-pending"},[t._v("Pending")]):t._e(),t._v(" "),s.isPending?a("a",{staticClass:"btn-primary btn-view float-right",attrs:{href:"#"},on:{click:function(e){return t.resendInvitation(s.email)}}},[t._v("Resend")]):a("router-link",{staticClass:"btn-primary btn-view float-right",attrs:{to:{name:"UserDetail",params:{id:s.id}}}},[t._v("View")])],1)])])}),0)])])])]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("h1",{staticClass:"page-header"},[this._v("User management")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col-lg-2 button-right"},[s("button",{staticClass:"btn btn-addnew",attrs:{"data-toggle":"modal","data-target":"#addNewUser"}},[s("i",{staticClass:"fa fa-plus"}),this._v(" Add new user"),s("span",{staticClass:"badge badge-primary"})])])}]};var m=e("VU/8")(u,d,!1,function(t){e("1oE0")},"data-v-7369c66d",null);s.default=m.exports},"9Uiy":function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAIAAAD9b0jDAAAACXBIWXMAABcRAAAXEQHKJvM/AAAA5klEQVRIie2VMY7EIAxFZ1ZU9O6p4RDJIZI6R0EchTJK7hA4BK7d09NmCySUASXN7BbRjKuPH/qyBB+e27Z57x+vpbXOayKy1lZ0miYhRNbWWiI6UiEEizEi4uOkUkotTSkVTUTthp8zu3fqw00ZAEgpzzDnvKWc86LLNTh2nvu+//WgNzoohoghhKo7jmMWMUbnXEX7vgeArJ1zMcYjBQAWQljX9cK0pUqpYuq9rxIlpfwm6iamH56o/4npsixtZuZ5zgIRjTEV1VqX99AY803UbU2ZUuoCA8AwDG2z6K7rqp8RAH4B62lhgOGqgGkAAAAASUVORK5CYII="},Rgfc:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAcCAIAAACPoCp1AAAACXBIWXMAABcRAAAXEQHKJvM/AAAAgUlEQVRIie2UsQnFMAwFXz72KNrA++/gyoW0hFqpcAhJG0jzQuD7BngnVNwWEaoKDiJSVHWMQRK4+480fZKZXEGttYgITyAi25yTJwDAfdESfEJQMnOl4p6ViiesVPyBoAAws4hgrB+pMLPeO2P9SgXp9pO3UuHumclYb61xUwFgB17kR0AlPhABAAAAAElFTkSuQmCC"},vm5C:function(t,s,e){"use strict";var a=e("Xxa5"),r=e.n(a),i=e("exGp"),n=e.n(i),o=e("2gGM"),l=e.n(o),c=e("Iq8t"),u={name:"AddUserPopup",data:function(){return{msg:"Welcome to Your Vue.js App",form:new l.a({user_name:"",password:"",email:"",first_name:"",last_name:""}),bulkForm:new l.a({accounts:""})}},methods:{send:function(){var t=this;return n()(r.a.mark(function s(){var e;return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e=t,s.next=3,t.form.post("/api/createUser",Object(c.b)()).then(function(s){var a=s.data;a.show_popup&&($("#addNewUser").modal("hide"),e.$swal({icon:"success",title:a.message,text:""}),t.form.reset()),t.$emit("reloadList","reload")}).catch(function(t){Object(c.d)(t.response.status),t.response.data.message&&e.$swal({icon:"error",title:t.response.data.message,text:""})});case 3:case"end":return s.stop()}},s,t)}))()},sendBulk:function(){var t=this;return n()(r.a.mark(function s(){var e;return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e=t,s.next=3,t.bulkForm.post("/api/createBulk",Object(c.b)()).then(function(s){s.data;$("#addNewUser").modal("hide"),$("#addNewUserSuccess").modal("show"),t.form.reset(),t.$emit("reloadList","reload")}).catch(function(t){Object(c.d)(t.response.status),t.response.data.message&&e.$swal({icon:"error",title:t.response.data.message,text:""})});case 3:case"end":return s.stop()}},s,t)}))()}}},d={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"modal fade",attrs:{id:"addNewUser",role:"dialog"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),e("div",{staticClass:"modal-body popup-user"},[t._m(1),t._v(" "),e("div",{staticClass:"tab-content"},[e("div",{staticClass:"tab-pane fade in active",attrs:{id:"menu1"}},[e("form",{attrs:{role:"form"},on:{submit:function(s){return s.preventDefault(),t.sendBulk(s)},keydown:function(s){return t.bulkForm.onKeydown(s)}}},[e("div",{staticClass:"form-group"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.bulkForm.accounts,expression:"bulkForm.accounts"}],staticClass:"form-control h-auto",attrs:{placeholder:"name@domain.com,name@domain.com,email@domain.com",rows:"7",id:"accounts"},domProps:{value:t.bulkForm.accounts},on:{input:function(s){s.target.composing||t.$set(t.bulkForm,"accounts",s.target.value)}}})]),t._v(" "),t._m(2)])])])])])])]),t._v(" "),t._m(3)])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"modal-header"},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[this._v("×")]),this._v(" "),s("h4",{staticClass:"modal-title"},[this._v("Add Users")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",{staticClass:"nav nav-pills"},[s("li",{staticClass:"active"},[s("a",{attrs:{"data-toggle":"pill",href:"#menu1"}},[this._v("Enter multiple email addresses separated with comma or / and space")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-info btn-add-popup",attrs:{type:"submit"}},[this._v("Add")]),this._v(" "),s("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Close")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"modal fade",attrs:{id:"addNewUserSuccess",role:"dialog"}},[s("div",{staticClass:"modal-dialog modal-sm popup-add-success"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-body popup-user text-center"},[s("h4",{staticClass:"modal-title"},[this._v("User(s) added succesfully")]),this._v(" "),s("p",[this._v("An email has been sent with an invitation to the user(s)"),s("br"),this._v(" to join your organization.")]),this._v(" "),s("button",{staticClass:"btn btn-info btn-add-popup",attrs:{type:"button","data-dismiss":"modal"}},[this._v("OK")])])])])])}]},m=e("VU/8")(u,d,!1,null,null,null);s.a=m.exports}});
//# sourceMappingURL=5.261199e00354d2d21a3a.js.map