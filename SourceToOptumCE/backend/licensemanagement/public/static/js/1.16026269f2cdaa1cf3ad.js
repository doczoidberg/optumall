webpackJsonp([1],{"2JzU":function(t,e,a){t.exports=a.p+"static/img/avatar_preview.8318798.png"},"7uhb":function(t,e){},"9bBU":function(t,e,a){a("mClu");var s=a("FeBl").Object;t.exports=function(t,e,a){return s.defineProperty(t,e,a)}},C4MV:function(t,e,a){t.exports={default:a("9bBU"),__esModule:!0}},JMmF:function(t,e){},bOdI:function(t,e,a){"use strict";e.__esModule=!0;var s,r=a("C4MV"),i=(s=r)&&s.__esModule?s:{default:s};e.default=function(t,e,a){return e in t?(0,i.default)(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},mClu:function(t,e,a){var s=a("kM2E");s(s.S+s.F*!a("+E39"),"Object",{defineProperty:a("evD5").f})},sDBu:function(t,e){},xdFk:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),r=a.n(s),i=a("2gGM"),o=a.n(i),l=a("vxD3"),n=a("Iq8t"),c={name:"UploadAvatar",data:function(){return{msg:"Welcome to Your Vue.js App",imgURL:a("2JzU"),resultURL:""}},created:function(){this.imgLoad()},methods:{imgLoad:function(){this.$refs.clipper.setWH$.next({width:100,height:100}),this.$refs.clipper.clip({wPixel:250})},getResult:function(){var t=this.$refs.clipper.clip();this.resultURL=t.toDataURL("image/jpeg",1);var e=this;this.$http.post("/api/upload",{image:this.resultURL},Object(n.b)()).then(function(t){$("#modalUploadAvatar").modal("hide"),e.$swal({icon:"success",title:"Profile piture updated successfully",text:""}),e.profile.item.avatarUrl=t.data.image}).catch(function(t){Object(n.d)(t.response.status),e.$swal({icon:"error",title:t.response.data.message,text:""})})},uploadFile:function(){this.$els.myBtn.click()},closePopup:function(t){$("#modalUploadAvatar").modal("hide")},upload:function(t){0!==t.target.files.length&&(this.imgURL&&URL.revokeObjectURL(this.imgURL),this.imgURL=window.URL.createObjectURL(t.target.files[0]),$("#modalUploadAvatar").modal("show"))}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-avatar-popup"},[a("label",{staticClass:"custom-file-upload"},[a("input",{attrs:{type:"file"},on:{change:function(e){return t.upload(e)}}}),t._v(" "),a("i",{staticClass:"fa fa-refresh",attrs:{"aria-hidden":"true"}}),t._v(" Change image\r\n    ")]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"modalUploadAvatar",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-sm popup-user-delete popup-upload-avatar"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-body  text-left"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("×")]),t._v(" "),a("h4",{staticClass:"modal-title"},[t._v("New profile picture")]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12 col-sm-6 left-img"},[a("clipper-basic",{ref:"clipper",staticClass:"my-clipper",attrs:{wrapRatio:1,ratio:1,src:t.imgURL,preview:"my-preview"},on:{load:t.imgLoad}},[a("div",{staticClass:"placeholder",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v("No image")])]),t._v(" "),a("p",[t._v("Crop image")])],1),t._v(" "),a("div",{staticClass:"col-xs-12 col-sm-6 right-img"},[a("clipper-preview",{staticClass:"my-clipper",attrs:{name:"my-preview"}},[a("div",{staticClass:"placeholder",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v("preview area")])]),t._v(" "),a("p",[t._v("Preview")])],1)]),t._v(" "),a("div",{staticClass:"row",staticStyle:{display:"none"}},[a("div",{staticClass:"col-sm-12"},[a("button",[a("clipper-upload",{model:{value:t.imgURL,callback:function(e){t.imgURL=e},expression:"imgURL"}},[t._v("upload image")])],1),t._v(" "),a("button",{staticStyle:{display:"none"},on:{click:t.getResult}},[t._v("clip image")]),t._v(" "),a("div",[a("div",[t._v("result:")]),t._v(" "),a("img",{staticClass:"result",attrs:{src:t.resultURL,alt:""}})])])]),t._v(" "),a("div",{staticClass:"modal-footer rm-line"},[a("button",{staticClass:"btn btn-primary",on:{click:t.getResult}},[t._v("Save changes")]),t._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])])])])},staticRenderFns:[]};var d=a("VU/8")(c,m,!1,function(t){a("JMmF")},"data-v-650b4c9f",null).exports,u=a("bOdI"),p=a.n(u),v=a("Xxa5"),f=a.n(v),g=a("exGp"),_=a.n(g),h=a("NYxO"),b={name:"UpdateProfile",computed:r()({},Object(h.c)({account:function(t){return t.account},profile:function(t){return t.users.profile}})),created:function(){var t=this;this.getById(),this.profile.item&&(this.roleType=this.profile.item.role,this.form.keys().forEach(function(e){t.form[e]=t.profile.item[e]}))},methods:r()({},Object(h.b)("users",{getById:"getById"}),{update:function(){var t=this;return _()(f.a.mark(function e(){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,t.form.phone_number=null!=t.form.phone_number&&""!=t.form.phone_number?t.form.phone_number.replace(/ /g,""):"",e.next=4,t.form.post("/api/settings/profile",Object(n.b)()).then(function(t){t.data;setTimeout(function(){a.$router.push(1==a.roleType?"/admin/profile":"/profile")},1e3)}).catch(function(t){Object(n.d)(t.response.status),t.response.data.message&&a.$swal({icon:"error",title:t.response.data.message,text:""})});case 4:case"end":return e.stop()}},e,t)}))()}}),data:function(){var t;return{bindProps:{mode:"international",defaultCountry:"DK",disabledFetchingCountry:!1,disabled:!1,disabledFormatting:!1,placeholder:"Enter a phone number",required:!1,enabledCountryCode:!1,enabledFlags:!0,roleType:0,onlyCountries:[],ignoredCountries:[],autocomplete:"off",name:"telephone",maxLen:25,wrapperClasses:"",inputClasses:"",dropdownOptions:{disabledDialCode:!1},inputOptions:{showDialCode:!1}},form:new o.a((t={region:"",zipcode:"",city:"",title:"",first_name:"",last_name:"",street_number:""},p()(t,"title",""),p()(t,"street",""),p()(t,"country",""),p()(t,"street",""),p()(t,"organization",""),p()(t,"phone_number",""),t)),msg:"Welcome to Your Vue.js App"}}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{on:{submit:function(e){return e.preventDefault(),t.update(e)},keydown:function(e){return t.form.onKeydown(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"usr"}},[t._v("First name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.first_name,expression:"form.first_name"}],staticClass:"form-control",attrs:{type:"text",id:"usr",name:"first_name"},domProps:{value:t.form.first_name},on:{input:function(e){e.target.composing||t.$set(t.form,"first_name",e.target.value)}}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"first_name"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"organization"}},[t._v("Company/organization")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.organization,expression:"form.organization"}],staticClass:"form-control",attrs:{type:"text",id:"organization",name:"organization"},domProps:{value:t.form.organization},on:{input:function(e){e.target.composing||t.$set(t.form,"organization",e.target.value)}}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"organization"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"street"}},[t._v("Street")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.street,expression:"form.street"}],staticClass:"form-control",attrs:{type:"text",id:"street",value:"Street name"},domProps:{value:t.form.street},on:{input:function(e){e.target.composing||t.$set(t.form,"street",e.target.value)}}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"street"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"city"}},[t._v("City")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.city,expression:"form.city"}],staticClass:"form-control",attrs:{type:"text",name:"city",id:"city"},domProps:{value:t.form.city},on:{input:function(e){e.target.composing||t.$set(t.form,"city",e.target.value)}}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"city"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"country"}},[t._v("Country")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.country,expression:"form.country"}],staticClass:"form-control",attrs:{type:"text",name:"country",id:"country"},domProps:{value:t.form.country},on:{input:function(e){e.target.composing||t.$set(t.form,"country",e.target.value)}}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"country"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"country"}},[t._v("Phone")]),t._v(" "),a("vue-tel-input",t._b({model:{value:t.form.phone_number,callback:function(e){t.$set(t.form,"phone_number",e)},expression:"form.phone_number"}},"vue-tel-input",t.bindProps,!1)),t._v(" "),a("has-error",{attrs:{form:t.form,field:"phone_number"}})],1),t._v(" "),a("div",{staticClass:"footer-form"},[a("alert-success",{attrs:{form:t.form,message:"Updated success!"}}),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{disabled:t.form.busy,type:"submit"}},[t._v("Save changes")]),t._v(" "),t.profile.item&&0==t.profile.item.role?a("router-link",{staticClass:"btn btn-default btn-cancel",attrs:{to:"/profile"}},[t._v("Cancel")]):t._e(),t._v(" "),t.profile.item&&1==t.profile.item.role?a("router-link",{staticClass:"btn btn-default btn-cancel",attrs:{to:"/admin/profile"}},[t._v("Cancel")]):t._e()],1)]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"lastname"}},[t._v("Last name:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.last_name,expression:"form.last_name"}],staticClass:"form-control",attrs:{type:"text",id:"lastname",name:"last_name"},domProps:{value:t.form.last_name},on:{input:function(e){e.target.composing||t.$set(t.form,"last_name",e.target.value)}}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"last_name"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("Title:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",name:"title"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"title"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"street_number"}},[t._v("Number:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.street_number,expression:"form.street_number"}],staticClass:"form-control custom-input-sm",attrs:{type:"text",name:"street_number",id:"street_number"},domProps:{value:t.form.street_number},on:{input:function(e){e.target.composing||t.$set(t.form,"street_number",e.target.value)}}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"street_number"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"zipcode"}},[t._v("Zip:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.zipcode,expression:"form.zipcode"}],staticClass:"form-control custom-input-sm",attrs:{type:"text",name:"zipcode",id:"zipcode"},domProps:{value:t.form.zipcode},on:{input:function(e){e.target.composing||t.$set(t.form,"zipcode",e.target.value)}}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"zipcode"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"region"}},[t._v("Region:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.region,expression:"form.region"}],staticClass:"form-control",attrs:{type:"text",name:"region",id:"region"},domProps:{value:t.form.region},on:{input:function(e){e.target.composing||t.$set(t.form,"region",e.target.value)}}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"region"}})],1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.roleType,expression:"roleType"}],staticClass:"form-control",attrs:{type:"hidden",name:"roleType",id:"roleType"},domProps:{value:t.roleType},on:{input:function(e){e.target.composing||(t.roleType=e.target.value)}}})])])])},staticRenderFns:[]};var y=a("VU/8")(b,C,!1,function(t){a("7uhb")},"data-v-3de2dc29",null).exports,w={name:"UserEdit",components:{"component-setting":l.a,"component-upload-avatar":d,UpdateProfile:y},computed:r()({},Object(h.c)({account:function(t){return t.account},profile:function(t){return t.users.profile}})),created:function(){this.getById()},data:function(){return{msg:"Welcome to Your Vue.js App",imgURL:a("2JzU"),resultURL:"",rotation:0,ratio:1,isLoad:!0}},methods:r()({},Object(h.b)("users",{getById:"getById"}),{imgLoad:function(){},getResult:function(){var t=this.$refs.clipper.clip({wPixel:350});this.resultURL=t.toDataURL("image/jpeg",1);var e=this;this.$http.post("/api/upload",{image:this.resultURL},Object(n.b)()).then(function(t){$("#modalUploadAvatar").modal("hide"),e.$swal({icon:"success",title:"Profile piture updated successfully",text:""}),e.profile.item.avatarUrl=t.data.image}).catch(function(t){Object(n.d)(t.response.status),e.$swal({icon:"error",title:t.response.data.message,text:""})})},uploadFile:function(){this.$els.myBtn.click()},closePopup:function(t){$("#modalUploadAvatar").modal("hide")},makeImage:function(){var t=this.$refs.clipper.clip({wPixel:250});this.resultURL=t.toDataURL("image/jpeg",1)},upload:function(t){if(0!==t.target.files.length){this.imgURL&&URL.revokeObjectURL(this.imgURL),this.imgURL=window.URL.createObjectURL(t.target.files[0]),$("#modalUploadAvatar").modal("show");var e=this;setTimeout(function(){e.makeImage()},500)}}}),mounted:function(){var t=this,e=0;this.$refs.clipper.onChange$.subscribe(function(){++e>=1&&(t.isLoad=!1)})}},U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"profile-page user-edit",attrs:{id:"page-wrapper"}},[a("div",{staticClass:"container-fluid"},[t._m(0),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-body"},[t._m(1),t._v(" "),a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane fade in active",attrs:{id:"myinformation"}},[a("div",{staticClass:"row"},[t.profile.item?a("div",{staticClass:"col-lg-3 avatar avatar-edit custom-avt"},[a("div",{staticClass:"avatar-content"},[a("h5",{staticClass:"profile-title"},[t._v("Profile picture")]),t._v(" "),a("img",{staticClass:"avatar_default  img-circle",attrs:{src:t.profile.item.avatarUrl,alt:"avatar_default  img-circle"}}),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"upload-avatar-popup"},[a("label",{staticClass:"custom-file-upload"},[a("input",{attrs:{type:"file"},on:{change:function(e){return t.upload(e)}}}),t._v(" "),a("i",{staticClass:"fa fa-refresh",attrs:{"aria-hidden":"true"}}),t._v(" Change image\r\n                                                ")])])])]):t._e(),t._v(" "),t.profile.item?a("div",{staticClass:"col-lg-9 infomation infomation-edit"},[a("update-profile")],1):t._e()])]),t._v(" "),a("div",{staticClass:"tab-pane fade",attrs:{id:"settings"}},[a("component-setting")],1)])])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"modalUploadAvatar",role:"dialog"}},[a("div",{staticClass:"modal-dialog modal-sm popup-user-delete popup-upload-avatar"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-body  text-left"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("×")]),t._v(" "),a("h4",{staticClass:"modal-title"},[t._v("New profile picture")]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12 col-sm-6 left-img"},[a("clipper-basic",{ref:"clipper",staticClass:"my-clipper",attrs:{ratio:1,src:t.imgURL,preview:"my-preview"}},[a("div",{staticClass:"placeholder",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v("No image")])]),t._v(" "),a("div",{staticClass:"clear-fix"}),t._v(" "),a("p",[t._v("Crop image")])],1),t._v(" "),a("div",{staticClass:"col-xs-12 col-sm-6 right-img"},[t.isLoad?t._e():a("clipper-preview",{staticClass:"my-clipper",attrs:{name:"my-preview"}},[a("div",{staticClass:"placeholder",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v("preview area")])]),t._v(" "),t.isLoad?a("img",{staticClass:"my-clipper img-responsive",attrs:{src:t.resultURL,alt:""}}):t._e(),t._v(" "),a("p",[t._v("Preview")])],1)]),t._v(" "),a("div",{staticClass:"row",staticStyle:{display:"none"}},[a("div",{staticClass:"col-sm-12"},[a("button",[a("clipper-upload",{model:{value:t.imgURL,callback:function(e){t.imgURL=e},expression:"imgURL"}},[t._v("upload image")])],1),t._v(" "),a("button",{staticStyle:{display:"none"},on:{click:t.getResult}},[t._v("clip image")]),t._v(" "),t._m(2)])]),t._v(" "),a("div",{staticClass:"modal-footer rm-line"},[a("button",{staticClass:"btn btn-primary",on:{click:t.getResult}},[t._v("Save changes")]),t._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("h1",{staticClass:"page-header"},[this._v("My profile")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"nav nav-tabs nav-tabs-info"},[e("li",{staticClass:"active"},[e("a",{attrs:{href:"#myinformation","data-toggle":"tab"}},[this._v("My information")])]),this._v(" "),e("li",[e("a",{attrs:{href:"#settings","data-toggle":"tab"}},[this._v("Security settings")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",[this._v("result:")])])}]};var x=a("VU/8")(w,U,!1,function(t){a("sDBu")},"data-v-c4c878fc",null);e.default=x.exports}});
//# sourceMappingURL=1.16026269f2cdaa1cf3ad.js.map